language: go
go:
  - 1.7.3
sudo: false
before_install:
  - go get github.com/axw/gocov/gocov
  - go get github.com/mattn/goveralls
  - go get golang.org/x/tools/cmd/cover
  - go get github.com/modocache/gover
  - go get github.com/mitchellh/gox
  - go get -v ./...
script:
  - if [ "${TRAVIS_PULL_REQUEST}" == "false" -a "${TRAVIS_BRANCH}" == "master" ]; then make distclean all crossbuild goveralls; else make distclean all goveralls; fi
after_success:
  - . scripts/travis_github_releases.sh
branches:
  only:
    - master
env:
  global:
  - GITHUB_REPO: polochon
  - GITHUB_USER: odwrtw
  - secure: P/YFF883J3zQuSVIWoo4vWvTt8Hy0xfcSWSO7ZUw7cZm8Nrw2noFjrS8BiqBZ5NIFesFB0fEyOrqhZ6mN4R+bpnSVzycKhiyRwCte/blTLC/Bj6EB/o/M0RV6v1M47f4/cGT19zfTXeYiWaLm0IV6ozR5ebziceKI4kaLHm9EqKS2jg0/D1bhwDTki6oVLOlHtUZG4063S7l5ZOG0D6nRlpOCsxloSgevFKQyAmmDHsKXhirwr+Hteewuy3EDOA0CG1ibNkF4VMpTXAEvOe1mpQSXYUHMH7egFrSBduus1e+Q5y6tN3vaA/jYDqnXLBDn9MCSAm3vML0tABABiUoEiS9/mbZFOo93CDYE6J9Gnmzx436P9Os0Kkm8v8+hxfyCUaVmVPM4t8CQxfqM9u1Lvs/4TSiaEK4OFnMbEjx65YUaY8fd/y7Lj3aOazszBVcXw393aD2xkli2f9Ft18Rtxz0qiIYuQbUMbbkKbCvQdmYJlvYcv7dFapi21z4fqc/HRl1uG6oAPOqba3Y5DW69r9M/Cm1jwoTaW3TyuJrXS2RKJwuhPWZ4oZ6iDCqIvNyIoj0Nn8MrNiEBWo40Mx7YH8pz+0Uk2kac40DmRR+3zcYdztY7rAoaPKpnybXNNB+730JlGS0l2KMpelSAv41MYTp6/ZZ3ED7epekOwyTVXA=
  - secure: S3vVgMxeEsgvULvy+v8PKjRKvEhr9d8mR2MH+8zVME9Og3s/ywYxOnirY7JC5Zsl1kWYXcNw2+kJ1JujiRQH+HD7qh5GbB0B5lntio5tWY248AZdJ5k7t5YQSa0WS1o8+zZFvzH5nP5EXDNMItNRqiFGwAnv/G1DoOIt9wAP/G4He3PP6qnS47AfpeMdBMlfWJMNV5T+kQcEHOmaqF6WOxcr+NccVzGEafg7c6aeL/dMtgi4w9MWkUgbDFbsNvmFVb5uZqQyt6nA+Y4mXi9fRJ7YeIT6B7VdA8NoEjoJCh/6E0MSiIFMlMsAKup6C7QIKCm4Bw9WPmeuGy7W7UF2OCZN4GOTPj5K4CbF+XZx92aSiSQkOKruhMLait7RbMdzMRLtEZKfkaRqa710TxzH6msdgWsF5oGpsiHoA3qE4oO3v8xiLVLbSgNXrLjBhlXYELClYho+ZCtlWk49GiqRTAjdwoSWxVQztptgMNj7bZYuMHMXPV2LFjh7s8rvqIupPxFk8eVfm7gCc0KFWou6xXsJly583IqUW/MbShTJ5YiqNlEutLsKv6+4MG1WzlBoyXu6aL4ipV8SwbCedmvmnr/XjiEjTBw0IHpiklvoLyJ1zLusSTevQYqpHscO5f2rHpon+kIPkUYKr8jCt3JXW8bFUcj4H1vGBFh/YtlZiGs=
